<navigation></navigation><br><br><br>
<search></search>
<div class="hm-black-light view-main col-md-12">

 <section class="section" style="margin-bottom: 0px; margin-top: 50px">


	<div class ="animated fadeInLeft">
	   <p class="h2"> {{vm.movie.title}} </p><br/>
       <img ng-src="https://image.tmdb.org/t/p/w500{{vm.movie.poster_path}}" class="img-fluid float-left" alt="" height="260" width="260" style="margin-right:10px; margin-bottom: 10px">

    </div>
    <div class="text-center">
    	<p style="color: red; text-align: center;">{{vm.favorite.message}}</p>
    	<form ng-submit="vm.onFavorite()">
	        <button type="submit" class="btn btn-danger btn-sm" style="color:white">
	          <i class="fa fa-heart" aria-hidden="true"></i> &nbsp; Add to favorites
	        </button>
	    </form>
        <br/>
    	   <p class="h6">OVERVIEW</p>

	     	{{vm.movie.overview}}

        <div class="rating">

    	     	<p class="h6"> RATING - {{vm.movie.vote_average}} / 10 </p>

          <div>
            <div class="c100 p{{vm.movieRatinPercentage}} small">
                <span>{{vm.movieRatinPercentage}}%</span>
                <div class="slice">
                    <div class="bar"></div>
                    <div class="fill"></div>
                </div>
            </div>
          </div>
      </div>
      <br/>
      <div class="text-center genres">
      <br/>
	     	<p class="h6"> GENRES </p>
	     	<span ng-repeat='genre in vm.movie.genre'>
	    		{{$first ? '' : $last ? ' and ' : ', '}}{{genre}}
	   		</span>
      </div>
    </div>

		<div class="card container cast" >
			    <ul class="nav nav-pills card-header-pills">
					  <li class="nav-item nav-link col-md-10">
					        <p class="h5 text-center">CAST</p>
					  </li>
			    </ul>
			</div>
	    <div class="card-deck container" style="margin-bottom: 20px">

		  <div class="card" ng-repeat='cast in vm.movie.cast| limitTo:5'>
		    <img class="card-img-top" data-sizes="auto" ng-src="https://image.tmdb.org/t/p/w500{{cast.profile_path}}" onerror="this.src='images/profile_photo.png'" alt="Card image cap" style="image-rendering: crisp-edges; width="2048"; height="2048";">
		    <div class="card-block">
	        <h4 class="card-title">{{cast.character}}</h4>
		      <p class="card-text">{{cast.name}}</p>
		    </div>
		  </div>
		</div>


	    <div class="discussionContainer" >
	    	<div class="card container" style="background-color: black;">
			  <div class="card-header">
			    <ul class="nav nav-pills card-header-pills">
			      <li class="nav-item nav-link col-md-4">
			        User
			      </li>
			      <li class="nav-item nav-link col-md-4">
			        Review
			      </li>
			      <li class="nav-item nav-link col-md-4">
			        Ratings
			      </li>
			    </ul>
			  </div>
			  <div ng-hide="vm.movie.reviews.length==0">
				  <div class="card card-inverse" style="background-color: #333; border-color: black; border-width: 1px; border-style: solid" ng-repeat='review in vm.movie.reviews'>
					  <div class="card-block">
					    <p class="card-text">
					     <ul class="nav nav-pills">
					     	<li class="col-md-4" style="color:white">{{review.name}}</li>
					     	<li class="col-md-4" style="color:white">{{review.review}}</li>
					     	<li class="col-md-4" style="color:white">{{review.rating}}</li>
					     </ul>
					    </p>
					  </div>
				  </div>
			  </div>
			  <div ng-show="vm.movie.reviews.length==0">
				   <div class="card card-inverse" style="background-color: #333; border-color: black; border-width: 1px; border-style: solid">
					  <div class="card-block">
						  	 <p class="card-text text-center"  style="color:white"> There are no reviews to be displayed</p>
					  </div>
				  </div>
			  </div>
			</div>
	    </div>
	    <button ng-click="show = 1" style="margin: 10px 20px" class="btn btn-danger col-md-3">Write a Review</button>

	    <form ng-show="show==1" ng-submit="vm.onSubmit()" style="margin:20px 20px; border:1px solid #333;">
	    	<!--<div class="form-group row">
			    <input type="hidden" name="email" value="{{vm.user.email}}"  ng-model="vm.review.email">
			</div>
			<div class="form-group row">
			    <input type="hidden" name="name" ng-value="vm.user.name" ng-model="vm.review.name">
			</div>
			<div class="form-group row">
			    <input type="hidden" name ="id" ng-init="vm.movie.id" ng-model="vm.review.id">
			</div>-->
		    <div class="form-group row" >
		    	 <label for="review" class="col-2 col-form-label text-center" style="font-size: medium; margin-top: 15px;">Review</label>
	 			 <div class="col-9" style="border:1px solid #333;margin-top: 10px">
	   			 	<input class="form-control" type="textbox" id="review" placeholder="Write your review here" ng-model="vm.review.review">
	  			 </div>
		    </div>
		    <div class="form-group row">
			  <label for="rating" class="col-2 col-form-label text-center" style="font-size: medium;">Ratings</label>
			  <div class="col-9"  style="border:1px solid #333;">
			    <input class="form-control" type="number" id="rating" placeholder="Give your ratings on scale of 0 - 10" min=0 max=10 ng-model="vm.review.rating">
			  </div>
            <button class="btn btn-danger" type="submit" style="margin: 10px 40px;">Submit</button>

			<!--<a class="btn btn-danger" style="margin: 10px 40px;" href="/movies/{{vm.movie.id}}/review">Submit</a>-->
		</form>
	 </section>
</div>
<div style="margin-bottom:4rem;"></div>
<foot></foot>
